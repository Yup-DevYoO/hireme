<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
<!-- CSS only -->
<!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous"> -->
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Lobster&display=swap" rel="stylesheet">
<style> .row { --bs-gutter-x: 1.5rem; --bs-gutter-y: 0; display: flex; flex-wrap: wrap; margin-top: calc(var(--bs-gutter-y) * -1); margin-right: calc(var(--bs-gutter-x)/ -2); margin-left: calc(var(--bs-gutter-x)/ -2); align-items: center!important; padding:0.4rem}.col-4 {flex: 0 0 auto; width: 33.3333333333%;padding-right:0.75rem;padding-left:0.75rem;}.col-8 {flex: 0 0 auto;width: 66.6666666667%;padding-right:0.75rem;padding-left:0.75rem;}.pt-3 { padding-top: 1rem!important;}.py-3{padding-top: 1rem!important; padding-bottom: 1rem!important;}.px-3{padding-right: 1rem;padding-left: 1rem;}.m-0{margin:0;}  body{margin:0;padding-top: 0;padding-bottom: 0;}section{background-color: #e0e0e054;}  body, input , select, select option{font-family: 'Lato', sans-serif;font-weight: bold!important;color: #795548;font-size: 1.1rem;}.text-right{text-align: right;}.px-10{padding-left:10%;padding-right:10%;}.cursive{font-family: 'Lobster', cursive;} .form-select1{display: block; width: 100%; padding: .8rem 2.25rem .8rem .75rem; line-height: 1.5; color: #000; background-color: #FFA726; background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e"); background-repeat: no-repeat; background-position: right .75rem center;background-size: 16px 12px; border: none;box-shadow: 0 0.125rem 0.25rem rgb(0 0 0 / 8%);border-radius: .25rem; -webkit-appearance: none;-moz-appearance: none; appearance: none;} input{display: block; width: 100%; padding: .8rem .75rem; font-size: 1rem; line-height: 1.5; color: #fff; background-color: #795548; border: none;box-shadow: 0 0.125rem 0.25rem rgb(0 0 0 / 8%);border-radius: .25rem;} *, ::after, ::before {box-sizing: border-box;}select option { background-color:#6D4C41; border:none; color:white;}.rangeprop{color:#68493f;font-size: 1.15rem;} input::-webkit-outer-spin-button,input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0;}input[type=number] {-moz-appearance: textfield;}@media(max-width:700px){.px-10{padding-left:5%;padding-right:5%;}}    @media(max-width:500px){.px-10{padding-left:5px;padding-right:5px;}.col-4,.col-8{padding-left:5px;padding-right:5px;}}
select {-webkit-appearance:none;-moz-appearance:none;appearance:none;}
/* gray D7CCC8 #8D6E63, color: #795548, #6D4C41, #5D4037/ #9E9E9E, #FFA726 */
.form-range{width:100%;height:10px;padding:0;background-color: transparent;-webkit-appearance: none;-moz-appearance: none;appearance: none; -webkit-transition: 2s;transition:2s;border-radius: 5px;background-color: #6D4C41;outline: none;margin-top:12px;margin-bottom: 12px;} 
input[type="range"]{box-shadow: none;}.form-range::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 25px; height: 25px; border-radius: 50%; background: #9E9E9E; cursor: pointer;}.form-range::-moz-range-thumb { width: 25px; height: 25px;border-radius: 50%;  background: #9E9E9E;  cursor: pointer;}

}

</style>
</head>
<body>
    <section class="px-10 py-3">

    <!-- <form class="row px-3 m-0" style="padding:0;">         -->
        <div class="py-3 px-3" style="border:3px solid #795548;border-radius: 20px;">
            <div class="row m-0 p-0" style="padding:0;"><div class="col-4"><span style="width:100%; max-width: 7rem; font-weight:bold;">YOUR LOGO</span></div><div class="col-8 text-right"><h2 class="cursive">Calculate the Coffee-Water ratio.</h2></div></div> <hr style="opacity:0.3;"> 
        
    <div style="padding-top: 0.5rem;padding-bottom: 0.5rem;">    <div class="row m-0 py-3">    
          <label for="inputratio" class="col-4">Ratio (Coffee :Water)</label>
          <div class="col-8"><select id="inputratio" class="form-select1"  onchange="CoffeeChangeByInput('ratioInput',this.value)">
            <option id="0">1:13</option><option id="1">1:14</option><option id="2">1:15</option><option id="3" selected>1:16</option><option id="4">1:17</option><option id="5">1:18</option><option id="6">1:19</option>
          </select></div>
          
        </div>


        <!-- Water -->
        <div class="row m-0 py-3">
          <label for="inputwater" class="col-4">Water</label>
          <div class="col-4">
              <input type="number" class="form-control1" id="inputwater" value="80" onkeyUp="CoffeeChangeByInput('waterInput',this.value)">
        </div>
          <div class="col-4">
              <select id="waterSelect" class="form-select1" onfocus="this.oldValue = this.value;" onchange="myFunction2('waterSelect',this.value, this.oldValue);this.oldValue = this.value;">
                <option>Milliliters</option><option selected>Grams</option><option>Ounces</option><option>Cups</option><option id="3">Quarts</option><option>Liters</option><option>Gallon</option>
                </select>
            </div>
        </div>


        <!-- groundcoffee -->
        <div class="row m-0 py-3">
            <label for="inputgcoffee" class="col-4">Ground Coffee</label>
            <div class="col-4"><input type="number" class="form-control1" id="inputgcoffee" value="5" onkeyUp="CoffeeChangeByInput('gcInput',this.value)"></div>
            <div class="col-4"><select id="gcoffeeSelect" class="form-select1" onfocus="this.oldValue = this.value;" onchange="myFunction2('gcoffeeSelect',this.value, this.oldValue);this.oldValue = this.value;">
                <option selected>Grams</option><option>Ounces</option><option>Tablespoons</option><option>Cups</option><option id="3">Kilos</option><option>Pounds</option>
              </select>
            </div>
        </div>

    <!-- Brewed coffee -->
        <div class="row m-0 py-3">
            <label for="inputBcoffee" class="col-4">Brewed Coffee</label>
            <div class="col-4"><input type="number" class="form-control1" id="inputBcoffee" value="70.03" onkeyUp="CoffeeChangeByInput('bcInput',this.value)"></div>
            <div class="col-4"><select id="bcoffeeSelect" class="form-select1" onfocus="this.oldValue = this.value;" onchange="myFunction2('bcoffeeSelect',this.value, this.oldValue);this.oldValue = this.value;">
                <option>Milliliters</option><option selected>Grams</option><option>Ounces</option><option>Cups</option><option id="3">Quarts</option><option>Liters</option><option>Gallon</option>
              </select>
            </div>
        </div>

<div class="row m-0 pt-3 rangeprop justify-content-between">
    <div class="col-4">Strong</div>
    <div class="col-4" style="text-align: center;">Medium</div>
    <div class="col-4 text-right">Weak</div>
</div>
<input type="range" class="form-range" onchange="CoffeeChangeByInput('rangeInput',this.value)" min="0" max="6" value="3" id="customRange">
</div></div>
</section>
<script> 
const liqPar = {Milliliters:1,Grams:1,Liters:1000,Gallon:3785.41,Quarts:946.353,Cups:236.588,Ounces:29.5735}
const solPar = {Grams:1,Ounces:28.34952,Cups:112,Kilos:1000,Pounds:453.592,Tablespoons:7}
const cofficient={'1:13':13,"1:14":14,'1:15':15,'1:16':16,'1:17':17,'1:18':18,'1:19':19}
const rangeCof={'1:13':0,"1:14":1,'1:15':2,'1:16':3,'1:17':4,'1:18':5,'1:19':6}

function removeDecimal(val,changingKey){
    changingKey.value=val;
    // console.log(Number(val).toFixed());
    if (Number(val)==Number(val).toFixed()){
        // console.log('remove decimal if changing key'+changingKey.id);
        changingKey.value=Number(val).toFixed(0);
    }else{
        // console.log('else removedecimal changing key'+changingKey.id);
        changingKey.value=val;
    }
}

var ir =  document.getElementById("inputratio");
const r = document.getElementById('customRange');
const gc = document.getElementById('inputgcoffee');
const bc  = document.getElementById('inputBcoffee');
const w = document.getElementById('inputwater');

const ws =  document.getElementById("waterSelect");
const gcs = document.getElementById("gcoffeeSelect");
const bcs = document.getElementById("bcoffeeSelect");

function mathFunction(whatfor,oldValue,value){

    if(whatfor=="sol"){
        var y = solPar[oldValue];
        var x = solPar[value];
        return x/y;
    }else if(whatfor=="liq"){
        var y = liqPar[oldValue];
        var x = liqPar[value];
        return x/y;
    }
}

function getKeyByValue(object, value) { 
    for (var prop in object) { 
        if (object.hasOwnProperty(prop)) { 
            if (object[prop] == value){
                return prop; 
            }
        } 
    } 
}

function myFunction2(type,value,oldValue){

    if (type=="waterSelect"){
        var mf = mathFunction('liq',oldValue,value);
        CoffeeChange(mf,gc);
        CoffeeChange(mf,bc);
    }else if(type=="bcoffeeSelect"){
        var mf = mathFunction('liq',oldValue,value);
        CoffeeChange(mf,w);
        CoffeeChange(mf,gc);
    }else if(type=="gcoffeeSelect"){
        var mf = mathFunction('sol',oldValue,value);
        CoffeeChange(mf,w);
        CoffeeChange(mf,bc);
    }
}

function CoffeeChange(mf,changingKey){
    removeDecimal((changingKey.value * mf).toFixed(2),changingKey);
}

function CoffeeChangeByInput(whatfor,val){
    if (whatfor == "waterInput"){
        removeDecimal((val / cofficient[ir.value] * liqPar[ws.value]/solPar[gcs.value]).toFixed(2),gc);

        removeDecimal(((liqPar[ws.value]*val - (1.995*val*liqPar[ws.value]/cofficient[ir.value]))/liqPar[bcs.value]).toFixed(2),bc);

    }else if(whatfor=="gcInput"){
        removeDecimal((val * cofficient[ir.value] * solPar[gcs.value]/liqPar[ws.value]).toFixed(2),w);
        removeDecimal(((liqPar[ws.value]*w.value - (1.995*w.value*liqPar[ws.value]/cofficient[ir.value]))/liqPar[bcs.value]).toFixed(2), bc);
        
    }else if(whatfor=="bcInput"){
        removeDecimal((val*liqPar[bcs.value]*cofficient[ir.value]/((cofficient[ir.value]-1.995)*liqPar[ws.value])).toFixed(2),w);
        removeDecimal((w.value / cofficient[ir.value] * liqPar[ws.value]/solPar[gcs.value]).toFixed(2),gc);
    }else if(whatfor=="ratioInput"){
        removeDecimal((w.value / cofficient[ir.value] * liqPar[ws.value]/solPar[gcs.value]).toFixed(2),gc);

        removeDecimal(((liqPar[ws.value]*w.value - (1.995*w.value*liqPar[ws.value]/cofficient[ir.value]))/liqPar[bcs.value]).toFixed(2),bc);

        r.value = rangeCof[val];
    }else if(whatfor=="rangeInput"){
        var x = getKeyByValue(rangeCof,val);
        ir.value=x;
        removeDecimal((w.value / cofficient[ir.value] * liqPar[ws.value]/solPar[gcs.value]).toFixed(2),gc);

        removeDecimal(((liqPar[ws.value]*w.value - (1.995*w.value*liqPar[ws.value]/cofficient[ir.value]))/liqPar[bcs.value]).toFixed(2),bc);
    }
}

</script>

</body>
</html>
